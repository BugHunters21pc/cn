BASIC TCP

SERVER

import socket

host = "localhost"
port = 4448

server = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
server.bind((host,port))
server.listen(10)

client, addr = server.accept()
print(f"Connected {addr[0]}:{addr[1]}")

string = client.recv(1024)
string = string.decode('utf-8')
print(f"Client : {string}")

CLIENT

import socket

host = "localhost"
port = 4448

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.connect((host,port))

print("Connected to the server...")
string = input("Client :")
server.send(bytes(string,'utf-8'))

CHAT APPLICATION TCP

SERVER:

import time, socket, sys
 
new_socket = socket.socket()
host_name = socket.gethostname()
s_ip = socket.gethostbyname(host_name)
 
port = 8080
 
new_socket.bind(('localhost', port))
print("Binding successful!")
print("This is your IP: ", s_ip)
 
name = input('Enter name: ')
 
new_socket.listen(1) 
 
conn, add = new_socket.accept()
 
print("Received connection from ", add[0])
print('Connection Established. Connected From: ',add[0])
 
client = (conn.recv(1024)).decode()
print(client + ' has connected.')
 
conn.send(name.encode())
while True:
    message = input('Me : ')
    conn.send(message.encode())
    message = conn.recv(1024)
    message = message.decode()
    print(client, ':', message)
    
CLIENT

import time, socket, sys
 
socket_server = socket.socket()
server_host = socket.gethostname()
ip = socket.gethostbyname(server_host)
sport = 8080
 
print('This is your IP address: ',ip)
server_host = input('Enter friend\'s IP address:')
name = input('Enter Friend\'s name: ')
 
 
socket_server.connect(('localhost',sport))
 
socket_server.send(name.encode())
server_name = socket_server.recv(1024)
server_name = server_name.decode()
 
print(server_name,' has joined...')
while True:
    message = (socket_server.recv(1024)).decode()
    print(server_name, ":", message)
    message = input("Me : ")
    socket_server.send(message.encode())  
    
MSG == BYE GOOD BYE ELSE OK

SERVER

import socket

def main():
    port = 35000
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    host = socket.gethostname()
    myIP = socket.gethostbyname(host)
    print("host",host,myIP)
    s.bind((host,port))
    s.listen(5)
    print("Listening on "+str(port)+" ....")
    flag = True
    while True:
        c,c_addr = s.accept()
        print("Connection recieved from ",c_addr,c)
        while flag:
            c.send(b"Please enter the message to the server: ")
            msg = c.recv(1024).decode()
            print("Message from client: "+msg)
            if msg == "Bye":
                c.send(b"Goodbye")
                c.send(b"Closing connection")
                flag= False
            else:
                c.send(b"Ok")
                flag= True
    c.close()

if __name__ == "__main__":
    main()

CLIENT


import socket

def main():
    port = 35000
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    host = socket.gethostname()
    s.connect((host,port))
    flag = True
    while flag:
        msg = s.recv(1024).decode()
        c_msg = input(msg)
        s.send(bytes(c_msg,"UTF-8"))
        msg = s.recv(1024).decode()
        print("Server replied: "+msg)
        if msg == "Goodbye":
            flag = False
        else:
            flag = True
    s.close()

if __name__ == "__main__":
    main()


